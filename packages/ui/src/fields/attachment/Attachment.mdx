import { Meta, Unstyled } from "@storybook/blocks";
import { Attachment } from "./Attachment";

<Meta title="Components/Data Input/Attachment" />

# Attachment field

<Unstyled>
<Attachment
  name="file"
  label="Upload file"
  width="300px" />
</Unstyled>

```jsx

<Attachment
  name="file"
  label="Upload file" />

```

## Validation

Attachment field can have restrictions (e.g. required). Error messages will be displayed upon violation of the configured restrictions.

<Unstyled>
<Attachment
  name="file"
  label="Upload file"
  aid="Please select a file to upload with less than 1MB"
  maxSize={1}
  required
  width="300px" />
</Unstyled>


```jsx

<Attachment
  name="file"
  label="Upload file"
  aid="Please select a file to upload with less than 1MB"
  maxSize={1}
  required />

```

# States

Attachment field have states to indicate actions being performed.

<Unstyled>
<Attachment
  name="file"
  label="Upload file"
  aid="Please select a file to upload with less than 1MB"
  maxSize={1}
  uploading
  progress="50"
  width="300px" />

  <br />

  <Attachment
  name="file"
  label="Upload file"
  aid="Please select a file to upload with less than 1MB"
  maxSize={1}
  removing
  width="300px" />
</Unstyled>

```jsx

<Attachment
  name="file"
  label="Upload file"
  aid="Please select a file to upload with less than 1MB"
  maxSize={1}
  required />

```

## Read only

Attachment field defined as read-only cannot be modified.

<Unstyled>
<Attachment name="file" 
  value={{name: "Abc.pdf", url:"abc.pdf"}} readOnly
  width="300px" />
</Unstyled>

 ```jsx
 
<Attachment name="file" 
   value={{name: "Abc.pdf", url:"abc.pdf"}} readOnly />

 ```


## Properties

<table>
    <tr>
        <td><strong>Property</strong></td>
        <td><strong>Type</strong></td>
        <td><strong>Default</strong></td>
        <td><strong>Description</strong></td>
    </tr>
    <tr>
        <td>name</td>
        <td>string</td>
        <td></td>
        <td>The name of the field</td>
    </tr>
    <tr>
        <td>placeholder</td>
        <td>string</td>
        <td></td>
        <td>Specifies a short hint that describes the expected value of the field</td>
    </tr>
    <tr>
        <td>label</td>
        <td>string</td>
        <td></td>
        <td>The label of the field</td>
    </tr>
    <tr>
        <td>aid</td>
        <td>string</td>
        <td></td>
        <td>Text to display to help the user fill the field</td>
    </tr>
    <tr>
        <td>maxSize</td>
        <td>number</td>
        <td></td>
        <td>The maximum size in Megabytes the field should accept</td>
    </tr>
    <tr>
        <td>required</td>
        <td>boolean</td>
        <td>false</td>
        <td>When true, the field must be filled</td>
    </tr>
    <tr>
        <td>readOnly</td>
        <td>boolean</td>
        <td>false</td>
        <td>When true, the field will be read-only</td>
    </tr>
    <tr>
        <td>uploading</td>
        <td>boolean</td>
        <td>false</td>
        <td>When true, the field will be in uploading state</td>
    </tr>
    <tr>
        <td>progress</td>
        <td>string</td>
        <td></td>
        <td>The percentage between 0 and 100% of the upload process</td>
    </tr>
    <tr>
        <td>value</td>
        <td>FileAttachment | null</td>
        <td></td>
        <td>The file attached</td>
    </tr>
        <tr>
        <td>width</td>
        <td>string</td>
        <td>100%</td>
        <td>The width of the field</td>
    </tr>
</table>

## Events

<table>
    <tr>
        <td><strong>Event</strong></td>
        <td><strong>Description</strong></td>
    </tr>
    <tr>
        <td>onChange</td>
        <td>Triggers when the value of the field changes</td>
    </tr>
    <tr>
        <td>onUpload</td>
        <td>Triggers when an file was attached for upload</td>
    </tr>
    <tr>
        <td>onDownload</td>
        <td>Triggers when the user tries to download the attachment</td>
    </tr>
    <tr>
        <td>onRemove</td>
        <td>Triggers when the attachment was removed</td>
    </tr>
</table>